{"version":3,"file":"static/js/786.6bde3b72.chunk.js","mappings":"wJAEA,MAIA,E,QAJYA,EAAMC,OAAO,CACvBC,QAAS,wD,uECDX,MAKA,EALsBC,UACpB,MAAM,KAAEC,SAAeC,EAAAA,EAAIC,IAAI,mBAC/B,OAAOF,CAAI,E,aCFN,MAAMG,EAAkBC,EAAAA,GAAOC,GAAI;;;;;;;;;;;EAa7BC,EAAUF,EAAAA,GAAOG,EAAG;;EAIpBC,EAAWJ,EAAAA,GAAOK,EAAG;;;;;;;;;;;;;;;;;IAiB7BC,GACDA,EAAMC,UACL;eClCL,MAyCA,EAzCmBC,IAAkD,IAAjD,SAAEC,EAAQ,YAAEC,EAAW,iBAAEC,GAAkBH,EAC7D,MAAOI,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,IAc7C,OAbAC,EAAAA,EAAAA,YAAU,KACkBpB,WACxB,IACE,MAAMqB,QAAuBC,IAE7BJ,EAAcG,EAChB,CAAE,MAAOE,GACPC,QAAQC,IAAI,gCAAiCF,EAC/C,GAEFG,EAAmB,GAClB,KAGDC,EAAAA,EAAAA,MAACvB,EAAe,CAAAwB,SAAA,EACdC,EAAAA,EAAAA,KAACtB,EAAO,CAAAqB,SAAC,iBACTD,EAAAA,EAAAA,MAAA,MAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACpB,EAAQ,CAEPqB,QAASA,IAAMf,IACfH,SAA+B,OAArBI,EAA0BY,UAEpCC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,oBAJE,GAMNX,GACCA,EAAWc,KAAKC,IACdH,EAAAA,EAAAA,KAACpB,EAAQ,CAEPqB,QAASA,IAAMhB,EAASkB,EAASC,KACjCrB,SAAUI,IAAqBgB,EAASC,IAAIL,UAE5CC,EAAAA,EAAAA,KAAA,KAAAD,SAAII,EAASE,QAJRF,EAASC,YAQN,ECvCTE,EAAa9B,EAAAA,GAAO+B,EAAG;;;;;;;;;;EAYvB3B,EAAWJ,EAAAA,GAAOK,EAAG;;;;;EAOrB2B,EAAchC,EAAAA,GAAOC,GAAI;;;;;;EAQzBgC,EAAajC,EAAAA,GAAOkC,CAAE;;;EAKtBC,EAAenC,EAAAA,GAAOoC,MAAO;;;;;;;;;;;EAa7BC,EAAYrC,EAAAA,GAAOC,GAAI;;;;EAMvBqC,EAActC,EAAAA,GAAOoC,MAAO;;;;IAIpC9B,GAA6B,UAAnBA,EAAMiC,UAAyB;IACzCjC,GAA6B,SAAnBA,EAAMiC,UAAwB;eC9C7C,MAwDA,EAxDc/B,IAAoC,IAAnC,UAAEgC,EAAS,eAAEC,GAAgBjC,EAC1C,MAAOkC,EAAOC,IAAY7B,EAAAA,EAAAA,WAAS,IACb8B,KAAKC,MAAMC,aAAaC,QAAQ,kBAAoB,MAI1EhC,EAAAA,EAAAA,YAAU,KACR+B,aAAaE,QAAQ,eAAgBJ,KAAKK,UAAUP,GAAO,GAC1D,CAACA,IAkBJ,OACElB,EAAAA,EAAAA,KAACM,EAAU,CAAAP,SACRiB,EAAUU,OAAS,GAClBV,EAAUd,KAAKyB,IACb7B,EAAAA,EAAAA,MAAClB,EAAQ,CAAAmB,SAAA,EACPC,EAAAA,EAAAA,KAACQ,EAAW,CAAAT,UACVC,EAAAA,EAAAA,KAAA,OAAK4B,IAAKD,EAAKE,MAAOC,IAAKH,EAAKtB,KAAM0B,MAAM,MAAMC,OAAO,WAE3DhC,EAAAA,EAAAA,KAACS,EAAU,CAAAV,SAAE4B,EAAKtB,QAClBP,EAAAA,EAAAA,MAACe,EAAS,CAAAd,SAAA,EACRD,EAAAA,EAAAA,MAAA,KAAAC,SAAA,CAAG,UAAQ4B,EAAKM,MAAM,cACtBjC,EAAAA,EAAAA,KAACW,EAAY,CACXuB,KAAK,SACLjC,QAASA,IA7BI0B,KACzB,MAAMQ,EAAa,IACdR,EACHS,SAAU,GAENC,EAAUnB,EAAMoB,MACnBC,GAASA,EAAKlC,OAASsB,EAAKtB,MAAQkC,EAAKpC,WAAawB,EAAKxB,WAEvC,qBAAZkC,GACTA,EAAQD,UAAY,EACpBjB,EAAS,IAAID,KAEbC,GAAUqB,GAAc,IAAIA,EAAWL,IACzC,EAgB2BM,CAAkBd,GAAM5B,SACxC,iBAGDC,EAAAA,EAAAA,KAACc,EAAW,CACVb,QAASA,IAAMgB,EAAeU,GAC9BZ,SAAUY,EAAKZ,SAAS2B,WAAW3C,UAEnCC,EAAAA,EAAAA,KAAC2C,EAAAA,IAAO,WAjBChB,EAAKvB,QAsBb,EClDjB,EAZ2BjC,eAAOyE,GAAuC,IAA3BC,EAAIC,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAAIb,EAAKa,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAC/D,MAAME,EAAS,CAAC,EACH,KAATH,IACFG,EAAOH,KAAOA,GAEF,KAAVZ,IACFe,EAAOf,MAAQA,GAEjB,MAAM,KAAE7D,SAAeC,EAAAA,EAAIC,IAAK,cAAasE,IAAc,CAAEI,WAC7D,OAAO5E,CACT,ECIA,EAdiBD,iBAAkC,IAA3B0E,EAAIC,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAAIb,EAAKa,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAG,GACzC,MAAME,EAAS,CAAC,EACH,KAATH,IACFG,EAAOH,KAAOA,GAEF,KAAVZ,IACFe,EAAOf,MAAQA,GAEjB,MAAM,KAAE7D,SAAeC,EAAAA,EAAIC,IAAK,aAAa,CAC3C0E,WAEF,OAAO5E,CACT,ECLA,EAPuBD,MAAO8E,EAAQlC,KACpC,MAAM,KAAE3C,SAAeC,EAAAA,EAAI6E,MAAO,cAAaD,aAAmB,CAChElC,aAEF,OAAO3C,CAAI,ECJA+E,EAAkB3E,EAAAA,GAAOC,GAAI;;;;;;;ECA7B2E,EAAgB5E,EAAAA,GAAOC,GAAI;;;;;;;;;;EAY3B4E,EAAkB7E,EAAAA,GAAOC,GAAI,GAE7B6E,EAAgB9E,EAAAA,GAAOoC,MAAO;;;;;;;;;8CCN3C,MAgDA,EAhDgB5B,IAMT,IANU,MACfiD,EAAK,KACLY,EAAI,cACJU,EAAa,aACbC,EAAY,cACZC,GACDzE,EACC,OACEc,EAAAA,EAAAA,MAACsD,EAAa,CAAArD,SAAA,EACZD,EAAAA,EAAAA,MAACuD,EAAe,CAAAtD,SAAA,EACdD,EAAAA,EAAAA,MAAC4D,EAAAA,EAAW,CAACC,GAAI,CAAEC,EAAG,EAAG7B,MAAO,KAAO8B,KAAK,QAAO9D,SAAA,EACjDC,EAAAA,EAAAA,KAAC8D,EAAAA,EAAU,CAACC,GAAG,cAAahE,SAAC,WAC7BD,EAAAA,EAAAA,MAACkE,EAAAA,EAAM,CACLD,GAAG,eACHE,MAAOhC,EACPiC,MAAM,QACNC,SAAUZ,EAAcxD,SAAA,EAExBC,EAAAA,EAAAA,KAACoE,EAAAA,EAAQ,CAACH,MAAM,GAAElE,UAChBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YAENC,EAAAA,EAAAA,KAACoE,EAAAA,EAAQ,CAACH,MAAM,OAAMlE,SAAC,yBACvBC,EAAAA,EAAAA,KAACoE,EAAAA,EAAQ,CAACH,MAAM,MAAKlE,SAAC,+BAG1BD,EAAAA,EAAAA,MAAC4D,EAAAA,EAAW,CAACC,GAAI,CAAEC,EAAG,EAAG7B,MAAO,KAAO8B,KAAK,QAAO9D,SAAA,EACjDC,EAAAA,EAAAA,KAAC8D,EAAAA,EAAU,CAACC,GAAG,aAAYhE,SAAC,UAC5BD,EAAAA,EAAAA,MAACkE,EAAAA,EAAM,CACLD,GAAG,cACHE,MAAOpB,EACPqB,MAAM,OACNC,SAAUX,EAAazD,SAAA,EAEvBC,EAAAA,EAAAA,KAACoE,EAAAA,EAAQ,CAACH,MAAM,GAAElE,UAChBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YAENC,EAAAA,EAAAA,KAACoE,EAAAA,EAAQ,CAACH,MAAM,OAAMlE,SAAC,sBACvBC,EAAAA,EAAAA,KAACoE,EAAAA,EAAQ,CAACH,MAAM,MAAKlE,SAAC,+BAI5BC,EAAAA,EAAAA,KAACsD,EAAa,CAACpB,KAAK,SAASjC,QAASwD,EAAc1D,SAAC,mBAGvC,ECgDpB,EA7FasE,KACX,MAAOC,EAAkBC,IAAuBjF,EAAAA,EAAAA,UAAS,OAClD4B,EAAOC,IAAY7B,EAAAA,EAAAA,UAAS,KAC5BuD,EAAM2B,IAAWlF,EAAAA,EAAAA,UAAS,KAC1B2C,EAAOwC,IAAYnF,EAAAA,EAAAA,UAAS,IAU7BoF,GAAcC,EAAAA,EAAAA,cAAYxG,UAC9B,IACE,MAAM6C,QAAkB4D,EAAS/B,EAAMZ,GACvCd,EAASH,EACX,CAAE,MAAOtB,GACPC,QAAQC,IAAI,iCAAkCF,EAChD,IACC,CAACmD,EAAMZ,KAEV1C,EAAAA,EAAAA,YAAU,KAcJ+E,EAbanG,WACf,IACE,MAAM6C,QAAkB6D,EACtBP,EACAzB,EACAZ,GAGFd,EAASH,EACX,CAAE,MAAOtB,GACPC,QAAQC,IAAI,iCAAkCF,EAChD,GAGAkF,GAEAF,EAAY7B,EAAMZ,EACpB,GACC,CAACyC,EAAaJ,EAAkBzB,EAAMZ,IA8BzC,OACEnC,EAAAA,EAAAA,MAAAgF,EAAAA,SAAA,CAAA/E,SAAA,EACEC,EAAAA,EAAAA,KAAC+E,EAAO,CACN9C,MAAOA,EACPY,KAAMA,EACNU,cAlBqB7D,IACzB+E,EAAS/E,EAAEsF,OAAOf,MAAM,EAkBpBT,aAfoB9D,IACxB8E,EAAQ9E,EAAEsF,OAAOf,MAAM,EAenBR,cAZoBwB,KACxBT,EAAQ,IACRC,EAAS,GAAG,KAYV3E,EAAAA,EAAAA,MAACqD,EAAe,CAAApD,SAAA,EACdC,EAAAA,EAAAA,KAACkF,EAAU,CACTjG,SA7EsB2D,IAC5B2B,EAAoB3B,EAAW,EA6EzB1D,YA1EgBiG,KACtBZ,EAAoB,KAAK,EA0EnBpF,iBAAkBmF,KAEpBtE,EAAAA,EAAAA,KAACoF,EAAK,CAACpE,UAAWE,EAAOD,eA3CR9C,UACrB,IACE,MAAMkH,QAAoBC,EAAe3D,EAAKvB,KAAMuB,EAAKZ,UACzDI,GAAUoE,GACDA,EAAUrF,KAAKsF,GACpBA,EAASpF,MAAQiF,EAAYjF,IACzB,IAAKoF,EAAUzE,SAAUsE,EAAYtE,UACrCyE,KAGV,CAAE,MAAO9F,GACPC,QAAQC,IAAI,uCAAwCF,EACtD,UAiCG,C","sources":["api/api.js","api/getPharmacies.js","components/Pharmacies/Pharmacies.styled.jsx","components/Pharmacies/Pharmacies.jsx","components/Drugs/Drugs.styled.jsx","components/Drugs/Drugs.jsx","api/getDrugsByPharmacy.js","api/getDrugs.js","api/updateFavorite.js","pages/Shop/Shop.styled.jsx","components/Filters/Filters.styled.jsx","components/Filters/Filters.jsx","pages/Shop/Shop.jsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"https://medicine-delivery-backend-t1jj.onrender.com/\",\r\n});\r\n\r\nexport default api;\r\n","import api from \"./api\";\r\n\r\nconst getPharmacies = async () => {\r\n  const { data } = await api.get(\"/api/pharmacies\");\r\n  return data;\r\n};\r\n\r\nexport default getPharmacies;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledContainer = styled.div`\r\n  @media screen and (min-width: 768px) {\r\n    width: 20vw;\r\n    height: 100%;\r\n  }\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: 1px solid #333;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  align-items: center;\r\n`;\r\n\r\nexport const StyledH = styled.h3`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const StyledLi = styled.li`\r\n  border: 1px solid #333;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  padding: 10px;\r\n  @media screen and (min-width: 1440px) {\r\n    padding: 20px;\r\n  }\r\n  transition: background-color 0.5s ease-out;\r\n  &:not(:last-child) {\r\n    margin-bottom: 10px;\r\n  }\r\n  &:hover,\r\n  &:focus {\r\n    background-color: lightgray;\r\n    transition: background-color 0.5s ease-out;\r\n  }\r\n  ${(props) =>\r\n    props.selected &&\r\n    `\r\n    background-color: lightgray;\r\n  `}\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport getPharmacies from \"../../api/getPharmacies\";\r\nimport { StyledContainer, StyledH, StyledLi } from \"./Pharmacies.styled\";\r\n\r\nconst Pharmacies = ({ onSelect, onSelectAll, selectedPahrmacy }) => {\r\n  const [pharmacies, setPharmacies] = useState([]);\r\n  useEffect(() => {\r\n    const getPharmaciesList = async () => {\r\n      try {\r\n        const pharmaciesList = await getPharmacies();\r\n\r\n        setPharmacies(pharmaciesList);\r\n      } catch (e) {\r\n        console.log(\"Error getting pharmacies list\", e);\r\n      }\r\n    };\r\n    getPharmaciesList();\r\n  }, []);\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <StyledH>Pharmacies:</StyledH>\r\n      <ul>\r\n        <StyledLi\r\n          key={1}\r\n          onClick={() => onSelectAll()}\r\n          selected={selectedPahrmacy === null}\r\n        >\r\n          <p>All pharmacies</p>\r\n        </StyledLi>\r\n        {pharmacies &&\r\n          pharmacies.map((pharmacy) => (\r\n            <StyledLi\r\n              key={pharmacy._id}\r\n              onClick={() => onSelect(pharmacy._id)}\r\n              selected={selectedPahrmacy === pharmacy._id}\r\n            >\r\n              <p>{pharmacy.name}</p>\r\n            </StyledLi>\r\n          ))}\r\n      </ul>\r\n    </StyledContainer>\r\n  );\r\n};\r\n\r\nexport default Pharmacies;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledList = styled.ul`\r\n  width: 80vw;\r\n  height: 80vh;\r\n  border: 1px solid #333;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  padding: 15px;\r\n  gap: 10px;\r\n  overflow-y: scroll;\r\n`;\r\n\r\nexport const StyledLi = styled.li`\r\n  border: 1px solid #333;\r\n  border-radius: 5px;\r\n  width: calc((100% / 3) - 10px);\r\n  height: 300px;\r\n`;\r\n\r\nexport const StyledThumb = styled.div`\r\n  width: 200px;\r\n  height: 200px;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const StyledName = styled.p`\r\n  font-weight: 600;\r\n  margin: 5px;\r\n`;\r\n\r\nexport const StyledButton = styled.button`\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n  border: 1px solid #333;\r\n  transition: background-color 0.5s ease-out;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    background-color: lightgrey;\r\n    transition: background-color 0.5s ease-out;\r\n  }\r\n`;\r\n\r\nexport const StyledDiv = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 20px 5px;\r\n`;\r\n\r\nexport const StyledHeart = styled.button`\r\n  background-color: transparent;\r\n  border: none;\r\n\r\n  ${(props) => props.favorite === \"false\" && `color: black;`}\r\n  ${(props) => props.favorite === \"true\" && `color: red;`}\r\n`;\r\n","import { useEffect, useState } from \"react\";\r\nimport {\r\n  StyledButton,\r\n  StyledLi,\r\n  StyledList,\r\n  StyledName,\r\n  StyledThumb,\r\n  StyledDiv,\r\n  StyledHeart,\r\n} from \"./Drugs.styled\";\r\nimport { SlHeart } from \"react-icons/sl\";\r\n\r\nconst Drugs = ({ drugsList, changeFavorite }) => {\r\n  const [drugs, setDrugs] = useState(() => {\r\n    const storedDrugs = JSON.parse(localStorage.getItem(\"medicineCart\")) || [];\r\n    return storedDrugs;\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"medicineCart\", JSON.stringify(drugs));\r\n  }, [drugs]);\r\n\r\n  const handleButtonClick = (drug) => {\r\n    const cartRecord = {\r\n      ...drug,\r\n      quantity: 1,\r\n    };\r\n    const isExist = drugs.find(\r\n      (item) => item.name === drug.name && item.pharmacy === drug.pharmacy\r\n    );\r\n    if (typeof isExist !== \"undefined\") {\r\n      isExist.quantity += 1;\r\n      setDrugs([...drugs]);\r\n    } else {\r\n      setDrugs((prevState) => [...prevState, cartRecord]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <StyledList>\r\n      {drugsList.length > 0 &&\r\n        drugsList.map((drug) => (\r\n          <StyledLi key={drug._id}>\r\n            <StyledThumb>\r\n              <img src={drug.photo} alt={drug.name} width=\"200\" height=\"200\" />\r\n            </StyledThumb>\r\n            <StyledName>{drug.name}</StyledName>\r\n            <StyledDiv>\r\n              <p>Price: {drug.price} &#8372;</p>\r\n              <StyledButton\r\n                type=\"button\"\r\n                onClick={() => handleButtonClick(drug)}\r\n              >\r\n                Add to cart\r\n              </StyledButton>\r\n              <StyledHeart\r\n                onClick={() => changeFavorite(drug)}\r\n                favorite={drug.favorite.toString()}\r\n              >\r\n                <SlHeart />\r\n              </StyledHeart>\r\n            </StyledDiv>\r\n          </StyledLi>\r\n        ))}\r\n    </StyledList>\r\n  );\r\n};\r\n\r\nexport default Drugs;\r\n","import api from \"./api\";\r\n\r\nconst getDrugsByPharmacy = async (pharmacyId, date = \"\", price = \"\") => {\r\n  const params = {};\r\n  if (date !== \"\") {\r\n    params.date = date;\r\n  }\r\n  if (price !== \"\") {\r\n    params.price = price;\r\n  }\r\n  const { data } = await api.get(`/api/drugs/${pharmacyId}`, { params });\r\n  return data;\r\n};\r\n\r\nexport default getDrugsByPharmacy;\r\n","import api from \"./api\";\r\n\r\nconst getDrugs = async (date = \"\", price = \"\") => {\r\n  const params = {};\r\n  if (date !== \"\") {\r\n    params.date = date;\r\n  }\r\n  if (price !== \"\") {\r\n    params.price = price;\r\n  }\r\n  const { data } = await api.get(`/api/drugs`, {\r\n    params,\r\n  });\r\n  return data;\r\n};\r\n\r\nexport default getDrugs;\r\n","import api from \"./api\";\r\n\r\nconst updateFavorite = async (drugId, favorite) => {\r\n  const { data } = await api.patch(`/api/drugs/${drugId}/favorite`, {\r\n    favorite,\r\n  });\r\n  return data;\r\n};\r\n\r\nexport default updateFavorite;\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledContaiter = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  flex-direction: column;\r\n  @media screen and (min-width: 768px) {\r\n    flex-direction: row;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const FlexContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n\r\n  @media screen and (min-width: 768px) {\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n  }\r\n`;\r\n\r\nexport const SelectContainer = styled.div``;\r\n\r\nexport const FiltersButton = styled.button`\r\n  display: block;\r\n  cursor: pointer;\r\n\r\n  width: 90%;\r\n  height: 40px;\r\n  @media screen and (min-width: 768px) {\r\n    width: 152px;\r\n  }\r\n`;\r\n","import {\r\n  FlexContainer,\r\n  SelectContainer,\r\n  FiltersButton,\r\n} from \"./Filters.styled\";\r\nimport Select from \"@mui/material/Select\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\n\r\nconst Filters = ({\r\n  price,\r\n  date,\r\n  onPriceChange,\r\n  onDateChange,\r\n  onDropFilters,\r\n}) => {\r\n  return (\r\n    <FlexContainer>\r\n      <SelectContainer>\r\n        <FormControl sx={{ m: 1, width: 152 }} size=\"small\">\r\n          <InputLabel id=\"label-price\">Price</InputLabel>\r\n          <Select\r\n            id=\"select-price\"\r\n            value={price}\r\n            label=\"Price\"\r\n            onChange={onPriceChange}\r\n          >\r\n            <MenuItem value=\"\">\r\n              <em>None</em>\r\n            </MenuItem>\r\n            <MenuItem value=\"desc\">by descending price</MenuItem>\r\n            <MenuItem value=\"asc\">by increasing price</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n        <FormControl sx={{ m: 1, width: 152 }} size=\"small\">\r\n          <InputLabel id=\"label-date\">Date</InputLabel>\r\n          <Select\r\n            id=\"select-date\"\r\n            value={date}\r\n            label=\"Date\"\r\n            onChange={onDateChange}\r\n          >\r\n            <MenuItem value=\"\">\r\n              <em>None</em>\r\n            </MenuItem>\r\n            <MenuItem value=\"desc\">newest to oldest</MenuItem>\r\n            <MenuItem value=\"asc\">oldest to newest</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </SelectContainer>\r\n      <FiltersButton type=\"button\" onClick={onDropFilters}>\r\n        Drop Filters\r\n      </FiltersButton>\r\n    </FlexContainer>\r\n  );\r\n};\r\n\r\nexport default Filters;\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport Pharmacies from \"../../components/Pharmacies/Pharmacies\";\r\nimport Drugs from \"../../components/Drugs/Drugs\";\r\nimport getDrugsByPharmacy from \"../../api/getDrugsByPharmacy\";\r\nimport getDrugs from \"../../api/getDrugs\";\r\nimport updateFavorite from \"../../api/updateFavorite.js\";\r\nimport { StyledContaiter } from \"./Shop.styled\";\r\nimport Filters from \"../../components/Filters/Filters.jsx\";\r\n\r\nconst Shop = () => {\r\n  const [selectedPharmacy, setSelectedPharmacy] = useState(null);\r\n  const [drugs, setDrugs] = useState([]);\r\n  const [date, setDate] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n\r\n  const handlePharmacySelect = (pharmacyId) => {\r\n    setSelectedPharmacy(pharmacyId);\r\n  };\r\n\r\n  const handleAllSelect = () => {\r\n    setSelectedPharmacy(null);\r\n  };\r\n\r\n  const getDrugList = useCallback(async () => {\r\n    try {\r\n      const drugsList = await getDrugs(date, price);\r\n      setDrugs(drugsList);\r\n    } catch (e) {\r\n      console.log(\"Error while getting drugs list\", e);\r\n    }\r\n  }, [date, price]);\r\n\r\n  useEffect(() => {\r\n    const getDrugs = async () => {\r\n      try {\r\n        const drugsList = await getDrugsByPharmacy(\r\n          selectedPharmacy,\r\n          date,\r\n          price\r\n        );\r\n\r\n        setDrugs(drugsList);\r\n      } catch (e) {\r\n        console.log(\"Error while getting drugs list\", e);\r\n      }\r\n    };\r\n    if (selectedPharmacy) {\r\n      getDrugs();\r\n    } else {\r\n      getDrugList(date, price);\r\n    }\r\n  }, [getDrugList, selectedPharmacy, date, price]);\r\n\r\n  const changeFavorite = async (drug) => {\r\n    try {\r\n      const updatedDrug = await updateFavorite(drug._id, !drug.favorite);\r\n      setDrugs((prevDrugs) => {\r\n        return prevDrugs.map((prevDrug) =>\r\n          prevDrug._id === updatedDrug._id\r\n            ? { ...prevDrug, favorite: updatedDrug.favorite }\r\n            : prevDrug\r\n        );\r\n      });\r\n    } catch (e) {\r\n      console.log(\"Error while marking drug as favorite\", e);\r\n    }\r\n  };\r\n\r\n  const handlePriceChange = (e) => {\r\n    setPrice(e.target.value);\r\n  };\r\n\r\n  const handleDateChange = (e) => {\r\n    setDate(e.target.value);\r\n  };\r\n\r\n  const handleDropFilters = () => {\r\n    setDate(\"\");\r\n    setPrice(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Filters\r\n        price={price}\r\n        date={date}\r\n        onPriceChange={handlePriceChange}\r\n        onDateChange={handleDateChange}\r\n        onDropFilters={handleDropFilters}\r\n      />\r\n      <StyledContaiter>\r\n        <Pharmacies\r\n          onSelect={handlePharmacySelect}\r\n          onSelectAll={handleAllSelect}\r\n          selectedPahrmacy={selectedPharmacy}\r\n        />\r\n        <Drugs drugsList={drugs} changeFavorite={changeFavorite} />\r\n      </StyledContaiter>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n"],"names":["axios","create","baseURL","async","data","api","get","StyledContainer","styled","div","StyledH","h3","StyledLi","li","props","selected","_ref","onSelect","onSelectAll","selectedPahrmacy","pharmacies","setPharmacies","useState","useEffect","pharmaciesList","getPharmacies","e","console","log","getPharmaciesList","_jsxs","children","_jsx","onClick","map","pharmacy","_id","name","StyledList","ul","StyledThumb","StyledName","p","StyledButton","button","StyledDiv","StyledHeart","favorite","drugsList","changeFavorite","drugs","setDrugs","JSON","parse","localStorage","getItem","setItem","stringify","length","drug","src","photo","alt","width","height","price","type","cartRecord","quantity","isExist","find","item","prevState","handleButtonClick","toString","SlHeart","pharmacyId","date","arguments","undefined","params","drugId","patch","StyledContaiter","FlexContainer","SelectContainer","FiltersButton","onPriceChange","onDateChange","onDropFilters","FormControl","sx","m","size","InputLabel","id","Select","value","label","onChange","MenuItem","Shop","selectedPharmacy","setSelectedPharmacy","setDate","setPrice","getDrugList","useCallback","getDrugs","getDrugsByPharmacy","_Fragment","Filters","target","handleDropFilters","Pharmacies","handleAllSelect","Drugs","updatedDrug","updateFavorite","prevDrugs","prevDrug"],"sourceRoot":""}