{"version":3,"file":"static/js/786.c1567ad7.chunk.js","mappings":"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","sources":["api/api.js","api/getPharmacies.js","components/Pharmacies/Pharmacies.styled.jsx","components/Pharmacies/Pharmacies.jsx","components/Drugs/Drugs.styled.jsx","components/Drugs/Drugs.jsx","api/getDrugsByPharmacy.js","api/getDrugs.js","api/updateFavorite.js","pages/Shop/Shop.styled.jsx","components/Filters/Filters.styled.jsx","components/Filters/Filters.jsx","pages/Shop/Shop.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"https://medicine-delivery-backend-t1jj.onrender.com/\",\n});\n\nexport default api;\n","import api from \"./api\";\n\nconst getPharmacies = async () => {\n  const { data } = await api.get(\"/api/pharmacies\");\n  return data;\n};\n\nexport default getPharmacies;\n","import styled from \"styled-components\";\n\nexport const StyledContainer = styled.div`\n  @media screen and (min-width: 768px) {\n    width: 20vw;\n    height: 100%;\n  }\n  display: flex;\n  flex-direction: column;\n  border: 1px solid #333;\n  border-radius: 10px;\n  padding: 20px;\n  align-items: center;\n`;\n\nexport const StyledH = styled.h3`\n  margin-bottom: 20px;\n`;\n\nexport const StyledLi = styled.li`\n  border: 1px solid #333;\n  border-radius: 5px;\n  text-align: center;\n  padding: 10px;\n  @media screen and (min-width: 1440px) {\n    padding: 20px;\n  }\n  transition: background-color 0.5s ease-out;\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n  &:hover,\n  &:focus {\n    background-color: lightgray;\n    transition: background-color 0.5s ease-out;\n  }\n  ${(props) =>\n    props.selected &&\n    `\n    background-color: lightgray;\n  `}\n`;\n","import React, { useEffect, useState } from \"react\";\nimport getPharmacies from \"../../api/getPharmacies\";\nimport { StyledContainer, StyledH, StyledLi } from \"./Pharmacies.styled\";\n\nconst Pharmacies = ({ onSelect, onSelectAll, selectedPahrmacy }) => {\n  const [pharmacies, setPharmacies] = useState([]);\n  useEffect(() => {\n    const getPharmaciesList = async () => {\n      try {\n        const pharmaciesList = await getPharmacies();\n\n        setPharmacies(pharmaciesList);\n      } catch (e) {\n        console.log(\"Error getting pharmacies list\", e);\n      }\n    };\n    getPharmaciesList();\n  }, []);\n\n  return (\n    <StyledContainer>\n      <StyledH>Pharmacies:</StyledH>\n      <ul>\n        <StyledLi\n          key={1}\n          onClick={() => onSelectAll()}\n          selected={selectedPahrmacy === null}\n        >\n          <p>All pharmacies</p>\n        </StyledLi>\n        {pharmacies &&\n          pharmacies.map((pharmacy) => (\n            <StyledLi\n              key={pharmacy._id}\n              onClick={() => onSelect(pharmacy._id)}\n              selected={selectedPahrmacy === pharmacy._id}\n            >\n              <p>{pharmacy.name}</p>\n            </StyledLi>\n          ))}\n      </ul>\n    </StyledContainer>\n  );\n};\n\nexport default Pharmacies;\n","import styled from \"styled-components\";\n\nexport const StyledList = styled.ul`\n  border: 1px solid #333;\n  border-radius: 10px;\n  padding: 15px;\n  /* display: flex;\n  flex-wrap: wrap; */\n  overflow-y: scroll;\n\n  display: grid;\n  gap: 10px;\n\n  @media screen and (min-width: 768px) {\n    width: 80vw;\n    height: 80vh;\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media screen and (min-width: 1440px) {\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: repeat(auto-fit, 330px);\n  }\n`;\n\nexport const StyledLi = styled.li`\n  border: 1px solid #333;\n  border-radius: 5px;\n  padding: 12px;\n  display: block;\n`;\n\nexport const StyledThumb = styled.div`\n  width: 280px;\n  height: 200px;\n  border-radius: 5px;\n  overflow: hidden;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  @media screen and (min-width: 768px) {\n    width: 200px;\n    height: 200px;\n  }\n`;\n\nexport const StyledName = styled.h3`\n  font-weight: 600;\n  margin: 10px 0;\n`;\n\nexport const StyledButton = styled.button`\n  display: block;\n  cursor: pointer;\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #333;\n  transition: background-color 0.5s ease-out;\n\n  &:hover,\n  &:focus {\n    background-color: lightgrey;\n    transition: background-color 0.5s ease-out;\n  }\n`;\n\nexport const StyledDiv = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 20px 0;\n`;\n\nexport const StyledHeart = styled.button`\n  background-color: transparent;\n  border: none;\n\n  ${(props) => props.favorite === \"false\" && `color: black;`}\n  ${(props) => props.favorite === \"true\" && `color: red;`}\n`;\n","import { useEffect, useState } from \"react\";\nimport {\n  StyledButton,\n  StyledLi,\n  StyledList,\n  StyledName,\n  StyledThumb,\n  StyledDiv,\n  StyledHeart,\n} from \"./Drugs.styled\";\nimport { SlHeart } from \"react-icons/sl\";\n\nconst Drugs = ({ drugsList, changeFavorite }) => {\n  const [drugs, setDrugs] = useState(() => {\n    const storedDrugs = JSON.parse(localStorage.getItem(\"medicineCart\")) || [];\n    return storedDrugs;\n  });\n\n  useEffect(() => {\n    localStorage.setItem(\"medicineCart\", JSON.stringify(drugs));\n  }, [drugs]);\n\n  const handleButtonClick = (drug) => {\n    const cartRecord = {\n      ...drug,\n      quantity: 1,\n    };\n    const isExist = drugs.find(\n      (item) => item.name === drug.name && item.pharmacy === drug.pharmacy\n    );\n    if (typeof isExist !== \"undefined\") {\n      isExist.quantity += 1;\n      setDrugs([...drugs]);\n    } else {\n      setDrugs((prevState) => [...prevState, cartRecord]);\n    }\n  };\n\n  return (\n    <StyledList>\n      {drugsList.length > 0 &&\n        drugsList.map((drug) => (\n          <StyledLi key={drug._id}>\n            <StyledThumb>\n              <img src={drug.photo} alt={drug.name} width=\"200\" height=\"200\" />\n            </StyledThumb>\n            <StyledName>{drug.name}</StyledName>\n            <StyledDiv>\n              <p>Price: {drug.price} &#8372;</p>\n              <StyledButton\n                type=\"button\"\n                onClick={() => handleButtonClick(drug)}\n              >\n                Add to cart\n              </StyledButton>\n              <StyledHeart\n                onClick={() => changeFavorite(drug)}\n                favorite={drug.favorite.toString()}\n              >\n                <SlHeart />\n              </StyledHeart>\n            </StyledDiv>\n          </StyledLi>\n        ))}\n    </StyledList>\n  );\n};\n\nexport default Drugs;\n","import api from \"./api\";\n\nconst getDrugsByPharmacy = async (pharmacyId, date = \"\", price = \"\") => {\n  const params = {};\n  if (date !== \"\") {\n    params.date = date;\n  }\n  if (price !== \"\") {\n    params.price = price;\n  }\n  const { data } = await api.get(`/api/drugs/${pharmacyId}`, { params });\n  return data;\n};\n\nexport default getDrugsByPharmacy;\n","import api from \"./api\";\n\nconst getDrugs = async (date = \"\", price = \"\") => {\n  const params = {};\n  if (date !== \"\") {\n    params.date = date;\n  }\n  if (price !== \"\") {\n    params.price = price;\n  }\n  const { data } = await api.get(`/api/drugs`, {\n    params,\n  });\n  return data;\n};\n\nexport default getDrugs;\n","import api from \"./api\";\n\nconst updateFavorite = async (drugId, favorite) => {\n  const { data } = await api.patch(`/api/drugs/${drugId}/favorite`, {\n    favorite,\n  });\n  return data;\n};\n\nexport default updateFavorite;\n","import styled from \"styled-components\";\n\nexport const StyledContaiter = styled.div`\n  display: flex;\n  gap: 10px;\n  flex-direction: column;\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const FlexContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-bottom: 20px;\n\n  @media screen and (min-width: 768px) {\n    align-items: center;\n    justify-content: flex-end;\n    margin-bottom: 10px;\n  }\n`;\n\nexport const FiltersButton = styled.button`\n  display: block;\n  cursor: pointer;\n  border: 1px solid black;\n  border-radius: 5px;\n\n  width: 90%;\n  height: 40px;\n  transition: background-color 0.5s ease-out;\n\n  &:hover,\n  :focus {\n    background-color: lightgrey;\n    transition: background-color 0.5s ease-out;\n  }\n  &:active {\n    background-color: lightgrey;\n    transition: background-color 0.5s ease-out;\n  }\n  @media screen and (min-width: 768px) {\n    width: 152px;\n  }\n`;\n","import { FlexContainer, FiltersButton } from \"./Filters.styled\";\nimport Select from \"@mui/material/Select\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\n\nconst Filters = ({\n  price,\n  date,\n  onPriceChange,\n  onDateChange,\n  onDropFilters,\n}) => {\n  return (\n    <FlexContainer>\n      <div>\n        <FormControl sx={{ m: 1, width: 152 }} size=\"small\">\n          <InputLabel id=\"label-price\">Price</InputLabel>\n          <Select\n            id=\"select-price\"\n            value={price}\n            label=\"Price\"\n            onChange={onPriceChange}\n          >\n            <MenuItem value=\"\">\n              <em>None</em>\n            </MenuItem>\n            <MenuItem value=\"desc\">by descending price</MenuItem>\n            <MenuItem value=\"asc\">by increasing price</MenuItem>\n          </Select>\n        </FormControl>\n        <FormControl sx={{ m: 1, width: 152 }} size=\"small\">\n          <InputLabel id=\"label-date\">Date</InputLabel>\n          <Select\n            id=\"select-date\"\n            value={date}\n            label=\"Date\"\n            onChange={onDateChange}\n          >\n            <MenuItem value=\"\">\n              <em>None</em>\n            </MenuItem>\n            <MenuItem value=\"desc\">newest to oldest</MenuItem>\n            <MenuItem value=\"asc\">oldest to newest</MenuItem>\n          </Select>\n        </FormControl>\n      </div>\n      <FiltersButton type=\"button\" onClick={onDropFilters}>\n        Drop Filters\n      </FiltersButton>\n    </FlexContainer>\n  );\n};\n\nexport default Filters;\n","import { useCallback, useEffect, useState } from \"react\";\nimport Pharmacies from \"../../components/Pharmacies/Pharmacies\";\nimport Drugs from \"../../components/Drugs/Drugs\";\nimport getDrugsByPharmacy from \"../../api/getDrugsByPharmacy\";\nimport getDrugs from \"../../api/getDrugs\";\nimport updateFavorite from \"../../api/updateFavorite.js\";\nimport { StyledContaiter } from \"./Shop.styled\";\nimport Filters from \"../../components/Filters/Filters.jsx\";\n\nconst Shop = () => {\n  const [selectedPharmacy, setSelectedPharmacy] = useState(null);\n  const [drugs, setDrugs] = useState([]);\n  const [date, setDate] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n\n  const handlePharmacySelect = (pharmacyId) => {\n    setSelectedPharmacy(pharmacyId);\n  };\n\n  const handleAllSelect = () => {\n    setSelectedPharmacy(null);\n  };\n\n  const getDrugList = useCallback(async () => {\n    try {\n      const drugsList = await getDrugs(date, price);\n      setDrugs(drugsList);\n    } catch (e) {\n      console.log(\"Error while getting drugs list\", e);\n    }\n  }, [date, price]);\n\n  useEffect(() => {\n    const getDrugs = async () => {\n      try {\n        const drugsList = await getDrugsByPharmacy(\n          selectedPharmacy,\n          date,\n          price\n        );\n\n        setDrugs(drugsList);\n      } catch (e) {\n        console.log(\"Error while getting drugs list\", e);\n      }\n    };\n    if (selectedPharmacy) {\n      getDrugs();\n    } else {\n      getDrugList(date, price);\n    }\n  }, [getDrugList, selectedPharmacy, date, price]);\n\n  const changeFavorite = async (drug) => {\n    try {\n      const updatedDrug = await updateFavorite(drug._id, !drug.favorite);\n      setDrugs((prevDrugs) => {\n        return prevDrugs.map((prevDrug) =>\n          prevDrug._id === updatedDrug._id\n            ? { ...prevDrug, favorite: updatedDrug.favorite }\n            : prevDrug\n        );\n      });\n    } catch (e) {\n      console.log(\"Error while marking drug as favorite\", e);\n    }\n  };\n\n  const handlePriceChange = (e) => {\n    setPrice(e.target.value);\n  };\n\n  const handleDateChange = (e) => {\n    setDate(e.target.value);\n  };\n\n  const handleDropFilters = () => {\n    setDate(\"\");\n    setPrice(\"\");\n  };\n\n  return (\n    <>\n      <Filters\n        price={price}\n        date={date}\n        onPriceChange={handlePriceChange}\n        onDateChange={handleDateChange}\n        onDropFilters={handleDropFilters}\n      />\n      <StyledContaiter>\n        <Pharmacies\n          onSelect={handlePharmacySelect}\n          onSelectAll={handleAllSelect}\n          selectedPahrmacy={selectedPharmacy}\n        />\n        <Drugs drugsList={drugs} changeFavorite={changeFavorite} />\n      </StyledContaiter>\n    </>\n  );\n};\n\nexport default Shop;\n"],"names":["axios","create","baseURL","async","data","api","get","StyledContainer","styled","div","StyledH","h3","StyledLi","li","props","selected","_ref","onSelect","onSelectAll","selectedPahrmacy","pharmacies","setPharmacies","useState","useEffect","pharmaciesList","getPharmacies","e","console","log","getPharmaciesList","_jsxs","children","_jsx","onClick","map","pharmacy","_id","name","StyledList","ul","StyledThumb","StyledName","StyledButton","button","StyledDiv","StyledHeart","favorite","drugsList","changeFavorite","drugs","setDrugs","JSON","parse","localStorage","getItem","setItem","stringify","length","drug","src","photo","alt","width","height","price","type","cartRecord","quantity","isExist","find","item","prevState","handleButtonClick","toString","SlHeart","pharmacyId","date","arguments","undefined","params","drugId","patch","StyledContaiter","FlexContainer","FiltersButton","onPriceChange","onDateChange","onDropFilters","FormControl","sx","m","size","InputLabel","id","Select","value","label","onChange","MenuItem","Shop","selectedPharmacy","setSelectedPharmacy","setDate","setPrice","getDrugList","useCallback","getDrugs","getDrugsByPharmacy","_Fragment","Filters","target","handleDropFilters","Pharmacies","handleAllSelect","Drugs","updatedDrug","updateFavorite","prevDrugs","prevDrug"],"sourceRoot":""}